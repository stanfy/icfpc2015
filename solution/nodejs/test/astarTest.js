/**
 * Created by otaykalo on 8-8-2015.
 */
var assert = require('assert');
var expect = require("chai").expect;
var astar = require("../logic/astar");

describe("astar", function () {

    context("neighbours test", function () {


        it("oneStep Left", function () {
            var initialState = {"board":{"sourceLength":99,"filled":[{"x":2,"y":6},{"x":3,"y":6},{"x":4,"y":6},{"x":5,"y":6},{"x":8,"y":6},{"x":10,"y":6},{"x":22,"y":6},{"x":2,"y":7},{"x":5,"y":7},{"x":7,"y":7},{"x":10,"y":7},{"x":21,"y":7},{"x":2,"y":8},{"x":6,"y":8},{"x":8,"y":8},{"x":10,"y":8},{"x":22,"y":8},{"x":2,"y":9},{"x":3,"y":9},{"x":4,"y":9},{"x":5,"y":9},{"x":10,"y":9},{"x":12,"y":9},{"x":15,"y":9},{"x":17,"y":9},{"x":18,"y":9},{"x":19,"y":9},{"x":21,"y":9},{"x":2,"y":10},{"x":5,"y":10},{"x":10,"y":10},{"x":12,"y":10},{"x":15,"y":10},{"x":17,"y":10},{"x":20,"y":10},{"x":22,"y":10},{"x":23,"y":10},{"x":24,"y":10},{"x":2,"y":11},{"x":5,"y":11},{"x":10,"y":11},{"x":12,"y":11},{"x":14,"y":11},{"x":16,"y":11},{"x":17,"y":11},{"x":18,"y":11},{"x":19,"y":11},{"x":21,"y":11},{"x":24,"y":11},{"x":2,"y":12},{"x":6,"y":12},{"x":10,"y":12},{"x":13,"y":12},{"x":14,"y":12},{"x":17,"y":12},{"x":22,"y":12},{"x":25,"y":12},{"x":2,"y":13},{"x":6,"y":13},{"x":10,"y":13},{"x":13,"y":13},{"x":17,"y":13},{"x":18,"y":13},{"x":19,"y":13},{"x":21,"y":13},{"x":24,"y":13},{"x":13,"y":14},{"x":12,"y":15}],"id":5,"units":[{"members":[{"x":0,"y":0},{"x":2,"y":0}],"pivot":{"x":1,"y":0}},{"members":[{"x":1,"y":0},{"x":0,"y":1},{"x":0,"y":2}],"pivot":{"x":0,"y":1}},{"members":[{"x":2,"y":0},{"x":1,"y":0},{"x":0,"y":1}],"pivot":{"x":1,"y":0}},{"members":[{"x":1,"y":1},{"x":1,"y":0},{"x":0,"y":1}],"pivot":{"x":0,"y":0}},{"members":[{"x":2,"y":0},{"x":1,"y":1},{"x":1,"y":2},{"x":0,"y":3}],"pivot":{"x":1,"y":1}},{"members":[{"x":2,"y":0},{"x":1,"y":0},{"x":0,"y":1},{"x":0,"y":2}],"pivot":{"x":1,"y":1}},{"members":[{"x":1,"y":1},{"x":1,"y":0},{"x":0,"y":1},{"x":0,"y":2}],"pivot":{"x":0,"y":1}},{"members":[{"x":0,"y":0},{"x":1,"y":0},{"x":0,"y":1},{"x":0,"y":2}],"pivot":{"x":0,"y":1}},{"members":[{"x":1,"y":0},{"x":1,"y":1},{"x":1,"y":2},{"x":0,"y":3}],"pivot":{"x":0,"y":1}},{"members":[{"x":2,"y":0},{"x":1,"y":1},{"x":0,"y":1},{"x":0,"y":2}],"pivot":{"x":1,"y":1}},{"members":[{"x":2,"y":1},{"x":2,"y":0},{"x":1,"y":0},{"x":0,"y":1}],"pivot":{"x":1,"y":0}},{"members":[{"x":1,"y":1},{"x":2,"y":0},{"x":1,"y":0},{"x":0,"y":1}],"pivot":{"x":1,"y":0}},{"members":[{"x":0,"y":0},{"x":0,"y":1},{"x":1,"y":1},{"x":0,"y":2}],"pivot":{"x":0,"y":1}},{"members":[{"x":0,"y":1},{"x":1,"y":1},{"x":3,"y":0},{"x":2,"y":0}],"pivot":{"x":1,"y":0}}],"sourceSeeds":[0,22837,22837,15215,24851,11460,14027,32620,32719,15577],"width":30,"height":20},"state":{"state":"ok","unit":{"members":[{"x":13,"y":0},{"x":15,"y":0}],"pivot":{"x":14,"y":0}},"score":0,"seed":12345,"hashes":[{"851968":true,"983040":true}]}};
            var closeState = {"board":{"sourceLength":99,"filled":[{"x":2,"y":6},{"x":3,"y":6},{"x":4,"y":6},{"x":5,"y":6},{"x":8,"y":6},{"x":10,"y":6},{"x":22,"y":6},{"x":2,"y":7},{"x":5,"y":7},{"x":7,"y":7},{"x":10,"y":7},{"x":21,"y":7},{"x":2,"y":8},{"x":6,"y":8},{"x":8,"y":8},{"x":10,"y":8},{"x":22,"y":8},{"x":2,"y":9},{"x":3,"y":9},{"x":4,"y":9},{"x":5,"y":9},{"x":10,"y":9},{"x":12,"y":9},{"x":15,"y":9},{"x":17,"y":9},{"x":18,"y":9},{"x":19,"y":9},{"x":21,"y":9},{"x":2,"y":10},{"x":5,"y":10},{"x":10,"y":10},{"x":12,"y":10},{"x":15,"y":10},{"x":17,"y":10},{"x":20,"y":10},{"x":22,"y":10},{"x":23,"y":10},{"x":24,"y":10},{"x":2,"y":11},{"x":5,"y":11},{"x":10,"y":11},{"x":12,"y":11},{"x":14,"y":11},{"x":16,"y":11},{"x":17,"y":11},{"x":18,"y":11},{"x":19,"y":11},{"x":21,"y":11},{"x":24,"y":11},{"x":2,"y":12},{"x":6,"y":12},{"x":10,"y":12},{"x":13,"y":12},{"x":14,"y":12},{"x":17,"y":12},{"x":22,"y":12},{"x":25,"y":12},{"x":2,"y":13},{"x":6,"y":13},{"x":10,"y":13},{"x":13,"y":13},{"x":17,"y":13},{"x":18,"y":13},{"x":19,"y":13},{"x":21,"y":13},{"x":24,"y":13},{"x":13,"y":14},{"x":12,"y":15}],"id":5,"units":[{"members":[{"x":0,"y":0},{"x":2,"y":0}],"pivot":{"x":1,"y":0}},{"members":[{"x":1,"y":0},{"x":0,"y":1},{"x":0,"y":2}],"pivot":{"x":0,"y":1}},{"members":[{"x":2,"y":0},{"x":1,"y":0},{"x":0,"y":1}],"pivot":{"x":1,"y":0}},{"members":[{"x":1,"y":1},{"x":1,"y":0},{"x":0,"y":1}],"pivot":{"x":0,"y":0}},{"members":[{"x":2,"y":0},{"x":1,"y":1},{"x":1,"y":2},{"x":0,"y":3}],"pivot":{"x":1,"y":1}},{"members":[{"x":2,"y":0},{"x":1,"y":0},{"x":0,"y":1},{"x":0,"y":2}],"pivot":{"x":1,"y":1}},{"members":[{"x":1,"y":1},{"x":1,"y":0},{"x":0,"y":1},{"x":0,"y":2}],"pivot":{"x":0,"y":1}},{"members":[{"x":0,"y":0},{"x":1,"y":0},{"x":0,"y":1},{"x":0,"y":2}],"pivot":{"x":0,"y":1}},{"members":[{"x":1,"y":0},{"x":1,"y":1},{"x":1,"y":2},{"x":0,"y":3}],"pivot":{"x":0,"y":1}},{"members":[{"x":2,"y":0},{"x":1,"y":1},{"x":0,"y":1},{"x":0,"y":2}],"pivot":{"x":1,"y":1}},{"members":[{"x":2,"y":1},{"x":2,"y":0},{"x":1,"y":0},{"x":0,"y":1}],"pivot":{"x":1,"y":0}},{"members":[{"x":1,"y":1},{"x":2,"y":0},{"x":1,"y":0},{"x":0,"y":1}],"pivot":{"x":1,"y":0}},{"members":[{"x":0,"y":0},{"x":0,"y":1},{"x":1,"y":1},{"x":0,"y":2}],"pivot":{"x":0,"y":1}},{"members":[{"x":0,"y":1},{"x":1,"y":1},{"x":3,"y":0},{"x":2,"y":0}],"pivot":{"x":1,"y":0}}],"sourceSeeds":[0,22837,22837,15215,24851,11460,14027,32620,32719,15577],"width":30,"height":20},"state":{"state":"ok","unit":{"pivot":{"x":13,"y":0},"members":[{"x":12,"y":0},{"x":14,"y":0}]},"score":0,"seed":12345,"hashes":[{"851968":true,"983040":true},{"786432":true,"917504":true}]}};
            initialState.l = 0;
            initialState.r = 0;
            initialState.h = 0;
            initialState.g =0;
            initialState.f = 0;

            var g = new astar.Graph(initialState);
            var res = astar.astar.search(g, initialState, closeState);
            res.forEach()
        });


    });
});